<div class="overlay" [ngClass]="{'show': isVisible2()}" (click)="hidePopup()"></div>

<div class="popup" [ngClass]="{'show': isVisible2()}">
  <div class="popup-header">
    <h2>Sign In</h2>
    <button class="close-button" (click)="hidePopup()">Ã—</button>
  </div>

  <div class="popup-body">
    <div class="input-container">
      <input 
        type="email" 
        [(ngModel)]="email"
        placeholder="Email"
        [class.error]="emailErrorVisible"
        (focus)="emailErrorVisible = false"
        (blur)="emailErrorVisible = !validateEmail(email)"
      >
      <span class="error-message" [class.visible]="emailErrorVisible">
        Please enter a valid email
      </span>
    </div>

    <div class="input-container">
      <div class="password-input">
        <input 
          type="password" 
          [(ngModel)]="password"
          placeholder="Password"
          [class.error]="passwordErrorVisible"
          (focus)="passwordErrorVisible = false"
          (blur)="passwordErrorVisible = password.length < 5"
        >
      </div>
      <span class="error-message" [class.visible]="passwordErrorVisible">
        Password must be at least 5 characters
      </span>
    </div>

    <button 
      class="login-button" 
      (click)="login()"
      [disabled]="loading"
    >
      <span *ngIf="!loading">Log In</span>
      <span class="loader" *ngIf="loading"></span>
    </button>

    <div class="divider">
      <span>or</span>
    </div>

    <button class="register-button" (click)="showRegistration()">
      Create Account
    </button>
  </div>
</div>

<app-registration #registration></app-registration>