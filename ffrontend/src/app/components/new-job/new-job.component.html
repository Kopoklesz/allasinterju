<app-navbar [title]="'Create New Job'"></app-navbar>

<div class="profile-container">
  <div class="cards-container">
    <div class="new-job-container">
      <h2 class="form-title">Create New Job</h2>
      
      <form [formGroup]="jobForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="cim">Job Title</label>
          <input id="cim" type="text" formControlName="cim" placeholder="Enter job title">
          <div class="error-message" *ngIf="showError('cim')">
            {{ getErrorMessage('cim') }}
          </div>
        </div>

        <div class="form-group">
          <label for="leiras">Description</label>
          <textarea id="leiras" formControlName="leiras" rows="4" placeholder="Enter job description"></textarea>
          <div class="error-message" *ngIf="showError('leiras')">
            {{ getErrorMessage('leiras') }}
          </div>
        </div>

        <div class="form-group">

          <label for="munkarend">Work Schedule</label>
          <select id="munkarend" formControlName="munkarend">
            <option value="">Select schedule</option>
            <option value="full">Full Time</option>
            <option value="part">Part Time</option>
            <option value="remote">Remote</option>
          </select>
          <div class="error-message" *ngIf="showError('munkarend')">
            {{ getErrorMessage('munkarend') }}
          </div>
        </div>

        <div class="form-group">
          <label for="rovidleiras">Short Description</label>
          <textarea id="rovidleiras" formControlName="rovidleiras" rows="2" placeholder="Enter a brief description"></textarea>
          <div class="error-message" *ngIf="showError('rovidleiras')">
            {{ getErrorMessage('rovidleiras') }}
          </div>
        </div>

        <div class="form-group">
          <label for="telepely">Location</label>
          <input id="telepely" type="text" formControlName="telepely" placeholder="Enter job location">
          <div class="error-message" *ngIf="showError('telepely')">
            {{ getErrorMessage('telepely') }}
          </div>
        </div>

        <div class="form-group">
          <label for="kitoltesihatarido">Deadline</label>
          <input type="date" [formControlName]="'kitoltesihatarido'" [min]="getFormattedDate()" class="form-control">
          <div class="error-message" *ngIf="showError('kitoltesihatarido')">
            {{ getErrorMessage('kitoltesihatarido') }}
          </div>
        </div>

        <button type="submit" class="submit-button">Create Job</button>
      </form>
    </div>

    <div class="turns-card">
      <h3 class="turns-header">Turns</h3>
      <div class="turn-options">
        <select class="turn-select" [(ngModel)]="selectedTurn">
          <option value="">Select Turn Type</option>
          <option *ngFor="let type of turnTypes" [value]="type">{{type}}</option>
        </select>
        <button class="add-turn-button" (click)="addNewTurn()">Add</button>
      </div>
      
      <div class="turns-list">
        <div class="turn-item" *ngFor="let turn of turns">
          <span>{{ turn.name }}</span>
          <button class="edit-turn-button" (click)="editTurn(turn)">Edit</button>
        </div>
      </div>
    </div>
  </div>
</div>