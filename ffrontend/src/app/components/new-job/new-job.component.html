<app-navbar [title]="'Create New Job'"></app-navbar>

<div class="profile-container">
  <div class="cards-container">
    <div class="new-job-container">
      <h2 class="form-title">Create New Job</h2>

      <form [formGroup]="jobForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Job Title</label>
          <input type="text" formControlName="cim">
          <div class="error-message" *ngIf="jobForm.get('cim')?.errors?.['required'] && jobForm.get('cim')?.touched">
            Title is required
          </div>
        </div>

        <div class="form-group">
          <label>Description</label>
          <textarea formControlName="leiras"></textarea>
          <div class="error-message" *ngIf="jobForm.get('leiras')?.errors?.['required'] && jobForm.get('leiras')?.touched">
            Description is required
          </div>
        </div>

        <div class="form-group">
          <label>Work Schedule</label>
          <select formControlName="munkarend">
            <option value="">Select schedule</option>
            <option *ngFor="let option of workScheduleOptions" [value]="option.value">
              {{option.label}}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label>Short Description</label>
          <input type="text" formControlName="rovidleiras">
        </div>

        <div class="form-group">
          <label>Location</label>
          <input type="text" formControlName="telepely">
        </div>

        <div class="form-group">
          <label>Deadline</label>
          <input type="date" formControlName="kitoltesihatarido" [min]="getFormattedDate()">
        </div>

        <button type="submit" class="submit-button" [disabled]="!jobForm.valid || isSubmitting">
          {{ isSubmitting ? 'Creating...' : 'Create Job' }}
        </button>
      </form>
    </div>
  </div>
</div>

<div class="confirmation-overlay" *ngIf="showConfirmDialog">
  <div class="confirmation-dialog">
    <div class="confirmation-header">
      <h3>Add Interview Rounds?</h3>
    </div>
    <div class="confirmation-body">
      Would you like to add interview rounds to this job?
    </div>
    <div class="confirmation-actions">
      <button class="cancel-button" (click)="skipRounds()">No, Skip</button>
      <button class="confirm-button" (click)="addRounds()">Yes, Add Rounds</button>
    </div>
  </div>
</div>